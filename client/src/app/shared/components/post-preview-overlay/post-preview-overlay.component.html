<div class="hover-preview-overlay pointer-events-none fixed inset-0 z-50 flex items-center justify-center">
    <div class="hover-preview-card pointer-events-auto relative overflow-hidden rounded-2xl border border-white/10 bg-slate-900/95 shadow-[0_32px_64px_rgba(0,0,0,0.6)]"
        data-preview-card (mouseleave)="onCardLeave()" (click)="onClick()" (wheel)="onCardLeave()">

        @switch (getMediaType(post().contentType)) {
        @case ('video') {
        <video [src]="getPostContentUrl(post())" class="block object-contain" [style.max-width]="viewportLimitVw()"
            [style.max-height]="viewportLimitVh()" [muted]="true" autoplay loop playsinline>
        </video>
        }
        @default {
        <div class="relative" [style.max-width]="viewportLimitVw()" [style.max-height]="viewportLimitVh()"
            [style.aspect-ratio]="imageAspectRatio()" [style.width]="imageContainerWidth()">
            <app-progressive-image [thumbnailSrc]="getThumbnailUrl(post())"
                [fullSrc]="getPostContentUrl(post())" [alt]="'Post ' + post().id"
                [width]="post().width || null" [height]="post().height || null" />
        </div>
        }
        }

        <div class="absolute bottom-0 right-0 left-0 bg-linear-to-t from-black/70 to-transparent px-4 py-3">
            <span class="text-sm font-bold text-white/90">#{{ post().id }}</span>
        </div>
    </div>
</div>
